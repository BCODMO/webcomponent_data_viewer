<!DOCTYPE html>
<html>
  <head>
    <title>BCO-DMO Data Package Viewer</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link href="https://submit.bco-dmo.org/static/css/bco-dmo.css" rel="stylesheet" />
    <link href="https://submit.bco-dmo.org/static/css/bco-dmo-changes.css" rel="stylesheet" />


    <link rel="icon" href="https://getbootstrap.com/favicon.ico">
    <link href="https://fonts.googleapis.com/css?family=Material+Icons&display=block" rel="stylesheet">

    <script
			  src="https://code.jquery.com/jquery-3.4.1.min.js"
			  crossorigin="anonymous"></script>
    <script type="module" src="./assets/js/bcodmo-data-viewer.js"></script>
  </head>
  
  <script>
      dp = {
          "name": "datapackage",
          "profile": "data-package",
          "resources": [{
              "name": "dataset-869963",
              "filename": "tonga_no3_d15n.csv",
              "mediatype": "text\/csv",
              "encoding": "utf-8",
              "size": "13021",
              "profile": "tabular-data-resource",
              "path": "https:\/\/datadocs.bco-dmo.org\/file\/wnkxAO4SR6jQzw\/tonga_no3_d15n.csv",
              "title": "tonga_no3_d15n.csv",
              "bcodmo_all-strings": true,
              "description": "",
              "schema": {
                  "fields": [{
                      "format": "default",
                      "name": "Cruise_ID",
                      "description": "Cruise ID\n",
                      "type": "string"
                  }, {
                      "format": "default",
                      "name": "Vessel",
                      "description": "Vessel\n",
                      "type": "string"
                  }, {
                      "format": "default",
                      "name": "Sampling_Date_UTC",
                      "description": "Sampling Date in UTC (yyyy-mm-dd hh:mm:ss)\n",
                      "type": "date"
                  }, {
                      "format": "default",
                      "name": "Latitude",
                      "description": "Latitude of sample collection\n",
                      "type": "number"
                  }, {
                      "format": "default",
                      "name": "Longitude",
                      "description": "Longitude of sample collection\n",
                      "type": "number"
                  }, {
                      "format": "default",
                      "name": "Cast",
                      "description": "Cast ID and type (CTD=standard CTD, TMC=Trace Metal Clean, TWO=small classical CTD with 12 Niskin)\n",
                      "type": "string"
                  }, {
                      "format": "default",
                      "name": "Potential_Density",
                      "description": "Potential Density, the density of water parcel at the surface\n",
                      "type": "number"
                  }, {
                      "format": "default",
                      "name": "Depth",
                      "description": "Depth of sampling\n",
                      "type": "integer"
                  }, {
                      "format": "default",
                      "name": "NO3_plus_NO2_d15N_vs_air",
                      "description": "Nitrogen isotopic composition of nitrate plus nitrite with respect to nitrogen in air (NO3- + NO2- d15N vs. N2 in air)\n",
                      "type": "number"
                  }]
              }
          }]
      };
      dp = {"name":"datapackage","profile":"data-package","resources":[{"bcodmo_all-strings": true, "name":"dataset-855139","filename":"dopv2021v4-1.csv","mediatype":"text\/csv","encoding":"utf-8","size":"1161488","profile":"tabular-data-resource","path":"https:\/\/datadocs.bco-dmo.org\/file\/jAONMA2I3VZLOn\/dopv2021v4-1.csv","title":"dopv2021v4-1.csv","description":"Primary data file for dataset: DOPv2021 (855139)","bcodmo:":{"fields":[{"format":"default","name":"EXPOCODE","description":"expedition code\n","units":"unitless","type":"string"},{"format":"default","name":"cruise","description":"sampling cruise\n","units":"unitless","type":"string"},{"format":"%Y-%m-%d","name":"date","description":"sampling date (UTC); YYYY-MM-DD\n","units":"unitless","type":"date"},{"format":"default","name":"StationID","description":"sampling station\n","units":"unitless","type":"string"},{"format":"default","name":"BottleID","description":"sampling bottle\n","units":"unitless","type":"string"},{"format":"default","name":"LATITUDE","description":"latitude\n","units":"decimal degrees","type":"number"},{"format":"default","name":"LONGITUDE","description":"longitude\n","units":"decimal degrees","type":"number"},{"format":"default","name":"depth","description":"sampling depth\n","units":"meters (m)","type":"number"},{"format":"default","name":"Temperature","description":"temperature\n","units":"degrees Celsius","type":"number"},{"format":"default","name":"Salinity","description":"salinity\n","units":"psu","type":"number"},{"format":"default","name":"NO3_plus_NO2","description":"nitrate + nitrite concentration\n","units":"uM","type":"string"},{"format":"default","name":"SRP","description":"soluble reactive phosphorus concentration\n","units":"uM","type":"string"},{"format":"default","name":"DOP","description":"DOP concentration\n","units":"uM","type":"string"},{"format":"default","name":"DOP_flag","description":"WOCE bottle quality codes; 2: acceptable measurement; 3: questionable measurement\n","units":"unitless","type":"string"},{"format":"default","name":"region","description":"sampling ocean basin\n","units":"unitless","type":"string"},{"format":"default","name":"method","description":"methods employed to measure DOP concentration\n","units":"unitless","type":"string"},{"format":"default","name":"reference","description":"data source\n","units":"unitless","type":"string"}]}}]};
      /*
    dp = {
  "name": "datapackage",
  "profile": "data-package",
  "resources": [
    {
      "name": "vmevo2xor34fm4p9",
      "filename": "export-np-dtms-.csv",
      "mediatype": "text/csv",
      "encoding": "utf-8",
      "size": 1756,
      "profile": "tabular-data-resource",
      "path": "https://laminar-dump.s3.dualstack.us-east-1.amazonaws.com/847425/1/data/bleaching_sequences.csv?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=ASIAXLAGZQJYVRSVY4AD%2F20230711%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20230711T091002Z&X-Amz-Expires=604800&X-Amz-Security-Token=IQoJb3JpZ2luX2VjED4aCXVzLWVhc3QtMSJHMEUCIDzRimWUofXETA8rwxCN11k%2FhLjnf6k5H5hmzQZtQbhUAiEAiyH6eaWvEMZpxKFc1FW2%2F4dPYjRVoJnZZ0T5sIu3AZkq%2FgMIt%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARADGgw1MDQ2NzI5MTE5ODUiDK4RARjqFgK0ZQ2YkSrSAzMQoCWJhIG6NkhE3zBAtT9c35zRUA49jbK2O9Wwe6Guh4wD9JEI1A242PMl90yKYHzzH8RUGfd3ot3UNBv1o6zV6%2FEkp8JGdfLG6N%2BnK0E%2Bvdq8qS%2FYgLsq3NVjo68oEmmuupmY1uprjq6JcTT9ppnwMg%2FdqhEhIiT%2Fav9rW%2BJq%2BiWa854kyzxvrb15fKyMvduaHxASwFmuFhmI3fvJzO9glxr3lFWAFHEGv%2FtRH8IsVqniSUHdmD6FMt%2BKJS7yq8qvwnvl8XqkST2cZkt9Z8FpRub%2FQazllDx4F1bQMYcYT5ydxEBwwm2pBnq65ErG3dTWL1dTVmSNkY7YJa1BpwaGhRhEVawKf67l2cOAy9vo3QxX%2BJjZmfrxrL46zSHrsg5xbftJChDIDfH8x1SHR0ENZTL%2BiEYH9Y7iH9nT%2BEQVg%2Ftz5lZd5RMsTKnWvsKhz4sCfDaIdbsyhFfuKiehj2f6rGcLa3Io1ktuUCt4JocSRal%2BJqblh%2BofpitEzMBtBW3D1EFeowwYrfHBM6c661UYRDh8RdJIOXACGwPjVNdnkweLXN9iKsNzkAMl9Iv7fUj5Hd00Huo61T%2FHyMhq%2FQEDcBguMb%2BOM0zypq%2Bl2kTnFmww7uCzpQY6pQFO%2B5b1dn0rjI1HWKUQ0EaLBG9Q7GWA3sgDQzP0sHkBQrU%2B3zXZapBZIfT4Jtrmzy%2FckRbiVmEO0g2tS%2F6PYMxjBXHIQ%2BV88E0q5cGwJW2aE35dW%2BpCb5%2Bz5SPRyKBhbEGfTXhXibimpjmA2HOchNsmMwgJ1%2FwHs99hks2V44a2juRZmavMg99cOjjOmJH7CKXqdS8k3%2B8bbPEDBRTG8Lx701je9eM%3D&X-Amz-SignedHeaders=host&X-Amz-Signature=4237cf20504c6b8d7626246ab9f703e610d459c7566f0a3ed9f53a45df536b67",
      "title": "",
      "description": ""
    }
  ]
}
/*
    dp = {
  "bcodmo:": {
    "dataManager": {
      "name": "Amber York",
      "orcid": "0000-0002-5133-5842"
    }
  },
  "bytes": 1119,
  "count_of_rows": 24,
  "hash": "a0e5e166741fafc14efa076305ca6669",
  "profile": "data-package",
  "resources": [
    {
      "size": 100,
      "dialect": {
        "caseSensitiveHeader": false,
        "delimiter": ",",
        "doubleQuote": true,
        "header": true,
        "lineTerminator": "\r\n",
        "quoteChar": "\"",
        "skipInitialSpace": false
      },
      "dpp:streamedFrom": "s3://laminar-load/data302/OA_Coral_Adaptation/orig/carpenter_20200408/L&O_2019_data.xlsx",
      "dpp:streaming": true,
      "encoding": "utf-8",
      "format": "csv",
      "hash": "f1c0d3d054fcd770877b6589a591f029",
      "name": "biological",
      "path": "https://datadocs.bco-dmo.org/file/Dw0q6kqf5g0jWM/ctdchem_at4205.csv",
      "profile": "tabular-data-resource",
      "schema": {
        "fields": [
          {
            "format": "default",
            "name": "cruisetow_number",
            "type": "string"
          },
          {
            "format": "default",
            "name": "cruise_number",
            "type": "integer"
          },
          {
            "format": "default",
            "name": "cruise_type",
            "type": "integer"
          },
          {
            "format": "default",
            "name": "R2R_cruise_ID",
            "type": "string"
          },
          {
            "format": "default",
            "name": "tow_number",
            "type": "integer"
          },
          {
            "format": "%Y-%m-%dT%H:%M:%SZ",
            "name": "ISO_datetime",
            "outputFormat": "%Y-%m-%dT%H:%M:%SZ",
            "type": "datetime"
          },
          {
            "format": "default",
            "name": "duration",
            "type": "integer"
          },
          {
            "decimalChar": ".",
            "format": "default",
            "groupChar": "",
            "name": "lat",
            "type": "number"
          },
          {
            "decimalChar": ".",
            "format": "default",
            "groupChar": "",
            "name": "lon",
            "type": "number"
          },
          {
            "format": "default",
            "name": "depth",
            "type": "integer"
          },
          {
            "decimalChar": ".",
            "format": "default",
            "groupChar": "",
            "name": "vol_filt",
            "type": "number"
          },
          {
            "decimalChar": ".",
            "format": "default",
            "groupChar": "",
            "name": "wetwt_0200",
            "type": "number"
          },
          {
            "decimalChar": ".",
            "format": "default",
            "groupChar": "",
            "name": "wetwt_0500",
            "type": "number"
          },
          {
            "decimalChar": ".",
            "format": "default",
            "groupChar": "",
            "name": "wetwt_1000",
            "type": "number"
          },
          {
            "decimalChar": ".",
            "format": "default",
            "groupChar": "",
            "name": "wetwt_2000",
            "type": "number"
          },
          {
            "decimalChar": ".",
            "format": "default",
            "groupChar": "",
            "name": "wetwt_5000",
            "type": "number"
          },
          {
            "decimalChar": ".",
            "format": "default",
            "groupChar": "",
            "name": "drywt_0200",
            "type": "number"
          },
          {
            "decimalChar": ".",
            "format": "default",
            "groupChar": "",
            "name": "drywt_0500",
            "type": "number"
          },
          {
            "decimalChar": ".",
            "format": "default",
            "groupChar": "",
            "name": "drywt_1000",
            "type": "number"
          },
          {
            "decimalChar": ".",
            "format": "default",
            "groupChar": "",
            "name": "drywt_2000",
            "type": "number"
          },
          {
            "decimalChar": ".",
            "format": "default",
            "groupChar": "",
            "name": "drywt_5000",
            "type": "number"
          }
        ],
        "missingValues": [
          "",
          "nd"
        ]
      }
    }
  ]
}
*/
  </script>
  <body>
    <h1 id="page-title">Data Viewer</h1>
    <!--
    <bcodmo-data-viewer dataset="812909" version="1"></bcodmo-data-viewer>
    <bcodmo-data-viewer dataset="2" version="1"></bcodmo-data-viewer>
    <bcodmo-data-viewer dpkg="https://raw.githubusercontent.com/BCODMO/Frictionless-Data-Package-Inspector/ag-grid/datasets/812909/1/data/datapackage.json"></bcodmo-data-viewer>
    -->
      <bcodmo-data-viewer id="dataViewer" hideDpkg="false" metadataUrl="google.com"></bcodmo-data-viewer>
  <script>
    var data_str = encodeURIComponent(JSON.stringify(dp));
    $("#dataViewer").attr("dpkgJson", data_str);
  </script>
   
  <script src="//unpkg.com/datapackage@1.1.10/dist/datapackage.min.js"></script>

    <!--
    <script src="./vendor/datapackage/1.1.9/datapackage.min.js"></script>
    <script src="./vendor/tableschema/1.12.3/tableschema.min.js"></script>
    <script src="./vendor/ag-grid/24.1.0/ag-grid-community.min.js"></script>
    -->
  </body>
</html>
