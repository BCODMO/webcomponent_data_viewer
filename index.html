<!DOCTYPE html>
<html>
  <head>
    <title>BCO-DMO Data Package Viewer</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link rel="icon" href="https://getbootstrap.com/favicon.ico">
    <link href="https://fonts.googleapis.com/css?family=Material+Icons&display=block" rel="stylesheet">

    <script
			  src="https://code.jquery.com/jquery-3.4.1.min.js"
			  crossorigin="anonymous"></script>
    <script type="module" src="./assets/js/bcodmo-data-viewer.js"></script>
  </head>
  
  <script>
      dp = {
          "name": "datapackage",
          "profile": "data-package",
          "resources": [{
              "name": "dataset-869963",
              "filename": "tonga_no3_d15n.csv",
              "mediatype": "text\/csv",
              "encoding": "utf-8",
              "size": "13021",
              "profile": "tabular-data-resource",
              "path": "https:\/\/datadocs.bco-dmo.org\/file\/wnkxAO4SR6jQzw\/tonga_no3_d15n.csv",
              "title": "tonga_no3_d15n.csv",
              "description": "",
              "schema": {
                  "fields": [{
                      "format": "default",
                      "name": "Cruise_ID",
                      "description": "Cruise ID\n",
                      "type": "string"
                  }, {
                      "format": "default",
                      "name": "Vessel",
                      "description": "Vessel\n",
                      "type": "string"
                  }, {
                      "format": "default",
                      "name": "Sampling_Date_UTC",
                      "description": "Sampling Date in UTC (yyyy-mm-dd hh:mm:ss)\n",
                      "type": "date"
                  }, {
                      "format": "default",
                      "name": "Latitude",
                      "description": "Latitude of sample collection\n",
                      "type": "number"
                  }, {
                      "format": "default",
                      "name": "Longitude",
                      "description": "Longitude of sample collection\n",
                      "type": "number"
                  }, {
                      "format": "default",
                      "name": "Cast",
                      "description": "Cast ID and type (CTD=standard CTD, TMC=Trace Metal Clean, TWO=small classical CTD with 12 Niskin)\n",
                      "type": "string"
                  }, {
                      "format": "default",
                      "name": "Potential_Density",
                      "description": "Potential Density, the density of water parcel at the surface\n",
                      "type": "number"
                  }, {
                      "format": "default",
                      "name": "Depth",
                      "description": "Depth of sampling\n",
                      "type": "integer"
                  }, {
                      "format": "default",
                      "name": "NO3_plus_NO2_d15N_vs_air",
                      "description": "Nitrogen isotopic composition of nitrate plus nitrite with respect to nitrogen in air (NO3- + NO2- d15N vs. N2 in air)\n",
                      "type": "number"
                  }]
              }
          }]
      };
      /*
    dp = {
  "bcodmo:": {
    "dataManager": {
      "name": "Amber York",
      "orcid": "0000-0002-5133-5842"
    }
  },
  "bytes": 1119,
  "count_of_rows": 24,
  "hash": "a0e5e166741fafc14efa076305ca6669",
  "profile": "data-package",
  "resources": [
    {
      "size": 100,
      "dialect": {
        "caseSensitiveHeader": false,
        "delimiter": ",",
        "doubleQuote": true,
        "header": true,
        "lineTerminator": "\r\n",
        "quoteChar": "\"",
        "skipInitialSpace": false
      },
      "dpp:streamedFrom": "s3://laminar-load/data302/OA_Coral_Adaptation/orig/carpenter_20200408/L&O_2019_data.xlsx",
      "dpp:streaming": true,
      "encoding": "utf-8",
      "format": "csv",
      "hash": "f1c0d3d054fcd770877b6589a591f029",
      "name": "biological",
      "path": "https://datadocs.bco-dmo.org/file/Dw0q6kqf5g0jWM/ctdchem_at4205.csv",
      "profile": "tabular-data-resource",
      "schema": {
        "fields": [
          {
            "format": "default",
            "name": "cruisetow_number",
            "type": "string"
          },
          {
            "format": "default",
            "name": "cruise_number",
            "type": "integer"
          },
          {
            "format": "default",
            "name": "cruise_type",
            "type": "integer"
          },
          {
            "format": "default",
            "name": "R2R_cruise_ID",
            "type": "string"
          },
          {
            "format": "default",
            "name": "tow_number",
            "type": "integer"
          },
          {
            "format": "%Y-%m-%dT%H:%M:%SZ",
            "name": "ISO_datetime",
            "outputFormat": "%Y-%m-%dT%H:%M:%SZ",
            "type": "datetime"
          },
          {
            "format": "default",
            "name": "duration",
            "type": "integer"
          },
          {
            "decimalChar": ".",
            "format": "default",
            "groupChar": "",
            "name": "lat",
            "type": "number"
          },
          {
            "decimalChar": ".",
            "format": "default",
            "groupChar": "",
            "name": "lon",
            "type": "number"
          },
          {
            "format": "default",
            "name": "depth",
            "type": "integer"
          },
          {
            "decimalChar": ".",
            "format": "default",
            "groupChar": "",
            "name": "vol_filt",
            "type": "number"
          },
          {
            "decimalChar": ".",
            "format": "default",
            "groupChar": "",
            "name": "wetwt_0200",
            "type": "number"
          },
          {
            "decimalChar": ".",
            "format": "default",
            "groupChar": "",
            "name": "wetwt_0500",
            "type": "number"
          },
          {
            "decimalChar": ".",
            "format": "default",
            "groupChar": "",
            "name": "wetwt_1000",
            "type": "number"
          },
          {
            "decimalChar": ".",
            "format": "default",
            "groupChar": "",
            "name": "wetwt_2000",
            "type": "number"
          },
          {
            "decimalChar": ".",
            "format": "default",
            "groupChar": "",
            "name": "wetwt_5000",
            "type": "number"
          },
          {
            "decimalChar": ".",
            "format": "default",
            "groupChar": "",
            "name": "drywt_0200",
            "type": "number"
          },
          {
            "decimalChar": ".",
            "format": "default",
            "groupChar": "",
            "name": "drywt_0500",
            "type": "number"
          },
          {
            "decimalChar": ".",
            "format": "default",
            "groupChar": "",
            "name": "drywt_1000",
            "type": "number"
          },
          {
            "decimalChar": ".",
            "format": "default",
            "groupChar": "",
            "name": "drywt_2000",
            "type": "number"
          },
          {
            "decimalChar": ".",
            "format": "default",
            "groupChar": "",
            "name": "drywt_5000",
            "type": "number"
          }
        ],
        "missingValues": [
          "",
          "nd"
        ]
      }
    }
  ]
}
*/
  </script>
  <body>
    <h1 id="page-title">Data Viewer</h1>
    <!--
    <bcodmo-data-viewer dataset="812909" version="1"></bcodmo-data-viewer>
    <bcodmo-data-viewer dataset="2" version="1"></bcodmo-data-viewer>
    <bcodmo-data-viewer dpkg="https://raw.githubusercontent.com/BCODMO/Frictionless-Data-Package-Inspector/ag-grid/datasets/812909/1/data/datapackage.json"></bcodmo-data-viewer>
    -->
      <bcodmo-data-viewer id="dataViewer" hideDpkg="true"></bcodmo-data-viewer>
  <script>
    var data_str = encodeURIComponent(JSON.stringify(dp));
    $("#dataViewer").attr("dpkgJson", data_str);
  </script>
   
    <script src="./vendor/datapackage/1.1.9/datapackage.min.js"></script>
    <!--
    <script src="./vendor/tableschema/1.12.3/tableschema.min.js"></script>
    <script src="./vendor/ag-grid/24.1.0/ag-grid-community.min.js"></script>
    -->
  </body>
</html>
